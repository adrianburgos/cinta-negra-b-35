{"version":3,"sources":["../../../../src/graphql/acciones/utils/uploader.js"],"names":["storeUpload","stream","resourceType","cloudinary","config","cloud_name","process","env","CLOUD_NAME","api_key","API_KEY","api_secret","API_SECRET","Promise","resolve","reject","buffer","v2","uploader","upload_stream","error","result","pipe"],"mappings":";;;;;;;;;AAAA;;AAEA,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAACC,MAAD,EAASC,YAAT,EAA0B;AAC1CC,yBAAWC,MAAX,CAAkB;AACdC,IAAAA,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC,UADV;AAEdC,IAAAA,OAAO,EAAEH,OAAO,CAACC,GAAR,CAAYG,OAFP;AAGdC,IAAAA,UAAU,EAAEL,OAAO,CAACC,GAAR,CAAYK;AAHV,GAAlB;;AAMA,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,QAAMC,MAAM,GAAGb,uBAAWc,EAAX,CAAcC,QAAd,CAAuBC,aAAvB,CACX;AAAEjB,MAAAA,YAAY,EAAEA;AAAhB,KADW,EAEX,UAACkB,KAAD,EAAQC,MAAR,EAAmB;AACf,UAAID,KAAJ,EAAWL,MAAM,CAACK,KAAD,CAAN;AACXN,MAAAA,OAAO,CAACO,MAAD,CAAP;AACH,KALU,CAAf;;AAOApB,IAAAA,MAAM,CAACqB,IAAP,CAAYN,MAAZ;AACH,GATM,CAAP;AAWH,CAlBD","sourcesContent":["import cloudinary from 'cloudinary';\r\n\r\nconst storeUpload = (stream, resourceType) => {\r\n    cloudinary.config({\r\n        cloud_name: process.env.CLOUD_NAME,\r\n        api_key: process.env.API_KEY,\r\n        api_secret: process.env.API_SECRET\r\n    });\r\n\r\n    return new Promise((resolve, reject) => {\r\n        const buffer = cloudinary.v2.uploader.upload_stream(\r\n            { resourceType: resourceType },\r\n            (error, result) => {\r\n                if (error) reject(error);\r\n                resolve(result);\r\n            }\r\n        );\r\n        stream.pipe(buffer);\r\n    });\r\n\r\n}\r\n\r\nexport {\r\n    storeUpload\r\n}"],"file":"uploader.js"}